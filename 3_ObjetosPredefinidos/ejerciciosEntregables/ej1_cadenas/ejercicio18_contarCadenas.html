<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contar</title>
</head>
<body>
    <h1>Contar cuantas veces aparece una cadena en otra.</h1>
    <label>Texto: <input id="texto" type="text"></label><br>
    <label>Texto a contar: <input id="textoInsertar" type="text"></label><br>
    <button id="mostrar">Contar texto</button><br>
    <span id="resultado"></span>
    
    <script>
        
        document.getElementById("mostrar").addEventListener("click", () => {
            contar(document.getElementById("texto").value,document.getElementById("textoInsertar").value);
        });
        
        function contar(textoQueEsContado, textoQueSeCuenta){
            let texto = String(textoQueEsContado);
            let textoAContar = String(textoQueSeCuenta);
            
            if (texto == ""){
                document.getElementById("resultado").innerHTML = `Texto (primer campo) inválido.`; return -1;
            }
            if (textoAContar == ""){
                document.getElementById("resultado").innerHTML = `Texto a buscar inválido.`; return -1;
            }
            
            let textoExtraido = texto.split(textoAContar);
            let numeroRepeticiones = textoExtraido.length - 1;
            
            if (numeroRepeticiones > 1){
                document.getElementById("resultado").innerHTML = `La cadena &quot;${textoAContar}&quot; se repite ${numeroRepeticiones} veces.`;
            } else if (numeroRepeticiones == 1){
                document.getElementById("resultado").innerHTML = `La cadena &quot;${textoAContar}&quot; se repite ${numeroRepeticiones} vez.`;
            } else {
                document.getElementById("resultado").innerHTML = `La cadena &quot;${textoAContar}&quot; no se repite.`;
            }
            
        }
        
    </script>
</body>
</html>
